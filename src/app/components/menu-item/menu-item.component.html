<!-- menu title -->
<button mat-raised-button
        mat-button [matMenuTriggerFor]="beforeMenu">
        {{title}}
</button>
<!-- nested menu template -->
<mat-menu #beforeMenu="matMenu" xPosition="before">
  <ng-container *ngIf="isDisplayedKeys">
    <!-- topic key -->
    <div *ngFor="let topicKey of subMenuKeys">
      <span>{{topicKey}}</span>
      <hr> <!--line -->
      <!-- sub-menus -->
      <button *ngFor="let menuItem of subMenuItems_dict[topicKey]" mat-menu-item>{{menuItem.name}}</button>
    </div>
  </ng-container>

  <!-- Display sub-menu without topic key -->
  <ng-container *ngIf="!isDisplayedKeys">
    <button *ngFor="let menuItem of subMenuValues" mat-menu-item>{{menuItem.name}}</button>
  </ng-container>
</mat-menu>